"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[544],{4544:(e,o,n)=>{n.r(o),n.d(o,{default:()=>g});var l=n(5155),t=n(2200),s=n(2115),r=n(5894),i=n(1738);let a={width:"100vw",height:"100vh",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f0f0f0",zIndex:0};function g(){let[e,o]=(0,s.useState)(null),{currentLocation:n,error:g}=(0,i.A)(),{selectedDestination:u}=(0,r.s)(),c={lat:(null==n?void 0:n.lat)||0,lng:(null==n?void 0:n.lng)||0};if(g)return(0,l.jsxs)("p",{children:["Error: ",g]});let d={lat:null==n?void 0:n.lat,lng:null==n?void 0:n.lng},p=(0,s.useRef)(null),{isLoaded:f}=(0,t.KD)({id:"google-map-script",googleMapsApiKey:"AIzaSyCdcF9W87LbcNAZg8QzDMbPrGgFicySvJ8"}),[h,m]=(0,s.useState)(null),v=(0,s.useCallback)(e=>{p.current=e,e.setZoom(14);let o=new window.google.maps.LatLngBounds(c||d);e.fitBounds(o)},[]);return((0,s.useEffect)(()=>{n&&u&&new google.maps.DirectionsService().route({origin:new google.maps.LatLng(n.lat,n.lng),destination:new google.maps.LatLng(u.coord.lat,u.coord.lng),travelMode:google.maps.TravelMode.DRIVING},(e,n)=>{n===google.maps.DirectionsStatus.OK?o(e):console.error("Error fetching directions: ",e)})},[n]),f)?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(t.u6,{onLoad:v,mapContainerStyle:a,center:c||u,zoom:14,onUnmount:()=>m(null),children:[(0,l.jsx)(t.pH,{position:c||u}),e&&(0,l.jsx)(t.C,{directions:e,options:{polylineOptions:{strokeColor:"#FF0000",strokeWeight:4},suppressMarkers:!0}}),(0,l.jsx)(t.pH,{position:c||u,label:"You are here"})]})}):(0,l.jsx)("p",{children:"Loading..."})}}}]);